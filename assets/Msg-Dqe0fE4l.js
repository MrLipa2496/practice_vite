import{_ as p,c as i,d as f,b as o,t as c,w as d,p as y,n as _,o as l,a as h,g as u,h as b,r as T}from"./index-0eXJXrt8.js";const k={name:"Popup",props:["title","fullscreen"],data(){return{active:0}},watch:{active(s){s===1?document.body.style.overflow="hidden":document.body.style.overflow=""}}},$={key:0},w={class:"head-popup"},x={class:"head-title"},g={class:"popup-inner"};function C(s,e,t,r,n,m){return n.active==1?(l(),i("div",$,[o("div",{class:"popup-back",onClick:e[0]||(e[0]=a=>n.active=0)}),o("div",{class:_(["popup",{"is-fullscreen":t.fullscreen}]),ref:"popup"},[o("div",w,[o("div",x,c(t.title),1),o("a",{href:"#",class:"close-btn",onClick:e[1]||(e[1]=d(a=>n.active=0,["prevent"]))},[...e[2]||(e[2]=[o("i",{class:"fas fa-window-close"},null,-1)])])]),o("div",g,[y(s.$slots,"default",{},void 0)])],2)])):f("",!0)}const M=p(k,[["render",C],["__scopeId","data-v-fa46410c"]]),I={name:"Msg",components:{Popup:M},data(){return{alert:"",success:"",t1:null,t2:null,confirmTitle:"Please confirm next action",confirm:"",code:0,interval:null}},mounted(){this.parent=this.$root},methods:{fadeIn(s,e,t){s.style.opacity=0,s.style.display=t||"block",s.style.transition=`opacity ${e}ms`,setTimeout(()=>{s.style.opacity=1},10)},fadeOut(s,e){s.style.opacity=1,s.style.transition=`opacity ${e}ms`,s.style.opacity=0,setTimeout(()=>{s.style.display="none"},e)},successFun(s){this.success=s;var e=this;e.t1&&clearTimeout(e.t1),e.t2&&clearTimeout(e.t2),e.t1=setTimeout(function(){const t=document.querySelector(".successMsg");t&&(e.fadeIn(t,1e3,"flex"),e.t2=setTimeout(function(){e.fadeOut(t,1e3),setTimeout(()=>{e.success=""},1e3)},3e3))},100)},alertFun(s){this.alert=s;var e=this;e.t1&&clearTimeout(e.t1),e.t2&&clearTimeout(e.t2),e.t1=setTimeout(function(){const t=document.querySelector(".alertMsg");t&&(e.fadeIn(t,1e3,"flex"),e.t2=setTimeout(function(){e.fadeOut(t,1e3),setTimeout(()=>{e.alert=""},1e3)},3e3))},100)},confirmFun(s,e){this.code=0;var t=this;return new Promise(function(r,n){t.confirmTitle=s,t.confirm=e,t.$refs.confirm.active=1,t.interval=setInterval(function(){t.code>0&&r()},100)}).then(function(){if(clearInterval(t.interval),t.$refs.confirm.active=0,t.code==1)return!0;if(t.code==2)return!1})}}},P={key:0,class:"alertMsg",style:{display:"none"}},S={class:"wrapper al"},N={key:1,class:"successMsg",style:{display:"none"}},B={class:"wrapper al"},V={class:"ac ptb20"},F={class:"confirm-text"},O={class:"botBtns"};function q(s,e,t,r,n,m){const a=T("Popup");return l(),i("div",null,[n.alert?(l(),i("div",P,[o("div",S,[e[2]||(e[2]=o("i",{class:"fas fa-times-circle"},null,-1)),u(" "+c(n.alert),1)])])):f("",!0),n.success?(l(),i("div",N,[o("div",B,[e[3]||(e[3]=o("i",{class:"fas fa-check-circle"},null,-1)),u(" "+c(n.success),1)])])):f("",!0),h(a,{ref:"confirm",title:""},{default:b(()=>[o("div",V,[o("div",F,[e[4]||(e[4]=o("i",{class:"fas fa-info-circle"},null,-1)),u(" "+c(n.confirm),1)]),o("div",O,[o("a",{class:"btnS btn-no",href:"#",onClick:e[0]||(e[0]=d(v=>n.code=2,["prevent"]))},"No"),o("a",{class:"btnS btn-yes",href:"#",onClick:e[1]||(e[1]=d(v=>n.code=1,["prevent"]))},"Yes")])])]),_:1},512)])}const z=p(I,[["render",q],["__scopeId","data-v-ab3fa021"]]);export{z as M,M as P};
